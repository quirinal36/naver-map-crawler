# ë„¤ì´ë²„ ë§µ í¬ë¡¤ëŸ¬

ê²½ê¸°ë„ ê´€ê³µì„œ ì£¼ë³€ ì¹´í˜Â·ìŒì‹ì ì˜ **ì˜ì—…ì‹œê°„ í¬í•¨** ìƒì„¸ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” CLI ë„êµ¬

## ìˆ˜ì§‘ í•„ë“œ

| í•„ë“œ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| name | ìƒí˜¸ëª… | ëŸ°ë˜ ìˆ˜ì›ì¸ê³„ì  |
| address | ë„ë¡œëª…ì£¼ì†Œ | ê²½ê¸° ìˆ˜ì›ì‹œ íŒ”ë‹¬êµ¬ ê¶Œê´‘ë¡œ180ë²ˆê¸¸ 18-11 |
| phone | ì „í™”ë²ˆí˜¸ | 031-123-4567 |
| category | ì—…ì¢… | ì¹´í˜,ë””ì €íŠ¸ |
| business_hours | ì˜ì—…ì‹œê°„ | ë‹¤ìŒ ë‚  01:00ì— ì˜ì—… ì¢…ë£Œ |
| visitor_reviews | ë°©ë¬¸ì ë¦¬ë·° ìˆ˜ | ë°©ë¬¸ì ë¦¬ë·° 859 |
| blog_reviews | ë¸”ë¡œê·¸ ë¦¬ë·° ìˆ˜ | 166 |
| naver_place_id | ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ID | 1568480811 |

---

## ì„¤ì¹˜

```bash
# 1. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
source venv/bin/activate        # macOS/Linux
venv\Scripts\activate           # Windows

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 3. Playwright ë¸Œë¼ìš°ì € ì„¤ì¹˜
playwright install chromium
```

---

## ì‚¬ìš©ë²•

### ë‹¨ì¼ ê²€ìƒ‰

```bash
python crawler.py search "ìˆ˜ì›ì‹œì²­ ì¹´í˜" --output result.csv
python crawler.py search "ì„±ë‚¨ì‹œì²­ ìŒì‹ì " --max 50 --output result.csv
```

### ë°°ì¹˜ ê²€ìƒ‰ (ì—¬ëŸ¬ ì§€ì—­)

```bash
python crawler.py batch regions.txt --max-per-query 30 --output ê²½ê¸°ë„_ë§¤ì¥ë¦¬ìŠ¤íŠ¸.csv
```

**regions.txt í˜•ì‹** (í•œ ì¤„ì— ê²€ìƒ‰ì–´ í•˜ë‚˜):
```
ìˆ˜ì›ì‹œì²­ ì¹´í˜
ìˆ˜ì›ì‹œì²­ ìŒì‹ì 
ì„±ë‚¨ì‹œì²­ ì¹´í˜
...
```

### ì¢Œí‘œ ê¸°ë°˜ ê²€ìƒ‰ (P2)

```bash
python crawler.py nearby --lat 37.263 --lng 127.028 --radius 500 --category ì¹´í˜
```

### ë„ì›€ë§

```bash
python crawler.py --help
python crawler.py search --help
python crawler.py batch --help
```

---

## ì‹¤í–‰ ì˜ˆì‹œ

```
$ python crawler.py batch regions.txt --max-per-query 30 --output ê²½ê¸°ë„_ë§¤ì¥ë¦¬ìŠ¤íŠ¸.csv

ğŸ“‹ ë°°ì¹˜ ì‹œì‘: 10ê°œ ì¿¼ë¦¬  (ì¿¼ë¦¬ë‹¹ ìµœëŒ€ 30ê°œ)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[1/10] ğŸ” ìˆ˜ì›ì‹œì²­ ì¹´í˜
   â†’ 30ê°œ place_id ìˆ˜ì§‘ ì™„ë£Œ
   [1/30] 1568480811 ì¡°íšŒ ì¤‘... âœ… ëŸ°ë˜ ìˆ˜ì›ì¸ê³„ì 
   ...
âœ… 287ê°œ ì €ì¥: ê²½ê¸°ë„_ë§¤ì¥ë¦¬ìŠ¤íŠ¸.csv
```

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
naver-map-crawler/
â”œâ”€â”€ crawler.py          # CLI ì§„ì…ì  (search / batch / nearby)
â”œâ”€â”€ searcher.py         # Step 1: ê²€ìƒ‰ì–´ â†’ place_id ëª©ë¡ (Playwright)
â”œâ”€â”€ fetcher.py          # Step 2: place_id â†’ ìƒì„¸ì •ë³´ (requests)
â”œâ”€â”€ exporter.py         # Step 3: CSV ì €ì¥ + ì¤‘ë³µ ì œê±°
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ regions.txt         # ë°°ì¹˜ ê²€ìƒ‰ ì¿¼ë¦¬ ëª©ë¡ (ê²½ê¸°ë„ 10ê°œ ì§€ì—­)
â””â”€â”€ output/
    â””â”€â”€ ê²½ê¸°ë„_ë§¤ì¥ë¦¬ìŠ¤íŠ¸.csv
```

### ë™ì‘ ë°©ì‹

1. **searcher.py** â€” Playwrightë¡œ ë„¤ì´ë²„ ì§€ë„ ê²€ìƒ‰ í˜ì´ì§€ ë¡œë“œ í›„ `allSearch` API ì‘ë‹µì„ ë„¤íŠ¸ì›Œí¬ ì¸í„°ì…‰íŠ¸í•´ place_id ì¶”ì¶œ
2. **fetcher.py** â€” `requests`ë¡œ `/p/api/place/summary/{place_id}` ì§ì ‘ í˜¸ì¶œí•´ 8ê°œ í•„ë“œ íŒŒì‹±
3. **exporter.py** â€” `pandas`ë¡œ `utf-8-sig` CSV ì €ì¥ (Excel í•œê¸€ í˜¸í™˜), name+address ê¸°ì¤€ ì¤‘ë³µ ì œê±°

---

## ì£¼ì˜ì‚¬í•­

- ìš”ì²­ ê°„ 0.5~1.0ì´ˆ ë”œë ˆì´ê°€ ìë™ ì ìš©ë©ë‹ˆë‹¤
- ê³¼ë„í•œ ë°˜ë³µ ì‹¤í–‰ ì‹œ IP ì°¨ë‹¨ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ìˆ˜ì§‘ ë°ì´í„°ëŠ” ë‚´ë¶€ ë§ˆì¼€íŒ… ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš” (ë„¤ì´ë²„ ì´ìš©ì•½ê´€ í™•ì¸ í•„ìš”)
